## 为智云课堂开发的chrome插件

**声明：本插件仅为学习交流使用，请勿用于商业途径。插件基于chrome扩展架构（MV3）开发，并且还有很多待完善的地方，请见谅**

<del>更适合zju宝宝的体质</del>

* **用途：自动将课堂PPT和讲解字幕导出为PDF文档或者Markdown文件（含图片的压缩包）** 
* 特点：  
    1. 每页pdf或者markdown有页眉（具体时间），页脚（第几页），以及ppt对应的字幕  
    2. 添加重复图像识别，自动过滤重复ppt，参数可调，详细见**For Developers**  
    3. 导出的PDF文件或者Markdown文件有课程标题和时间，方便查看 

这时候就会有聪明的小伙伴问我：**帅哥帅哥**，我为什么不直接用智云课堂里可以下载的ppt和字幕呢？

于是我缓缓转过身，给出答案：

1. 智云课堂下载的ppt页面有很多重复，删起来太麻烦
2. 不会真有人下载字幕来看吧，ppt配合字幕才是真神
3. 导出的ppt没有时间，不易快速浏览和定位
4. 我爱Markdown



##  安装插件

1. 进入我的仓库https://github.com/Auspiow/zhiyun-extension

2. 下载插件压缩包

   ![1](./assets/1.png)

3. 解压缩

   ![2](./assets/2.png)

4. 打开谷歌浏览器（推荐），进入chrome://extensions

   ![3](./assets/3.png)

5. 打开开发者模式并选中解压后的文件夹（分为两步）

   ![4](./assets/4.png)

6. 然后可以看到安装了插件，记得检查右下角插件是否打开

   ![5](./assets/5.png)

7. 推出后在浏览器的右上角可看到一个拼图形状的按钮

   ![6](./assets/6.png)

8. 点一下图钉按钮可以固定插件

   ![7](./assets/7.png)

   

## 具体使用说明

进入智云课堂页面之后再点击插件会出现弹窗，按照流程点击就会自动下载

注意是进入具体的页面之后再点击插件：

![](./assets/8.png)

然后点击插件会出现按钮，按钮点击一次之后没有反应需要刷新一下

![8](./assets/9.png)

<img src="./assets/10.png" alt="9" style="zoom:80%;" />

出现这个标志才算结束，下载列表会有pdf文件（或者是包含Markdown的压缩包），如果没有的话刷新后按照上面的流程走一遍

<img src="./assets/11.png" alt="10" style="zoom:80%;" />



## For Developers

![11](./assets/12.png)

content.js是主要的内容脚本，里面的isSameImage是检测重复ppt的，参数threshold(0,1)用于判断两张ppt的近似程度，可以手动调整之后再更新插件以达到个性化的目的。数值越大，相似的ppt越多（过滤的越少）；数值越小，相似的ppt越少（过滤的越多）。